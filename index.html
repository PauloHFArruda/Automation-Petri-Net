<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automation Petri Net</title>
    <link rel="stylesheet" href="static/css/main.css">
    <link rel="stylesheet" href="static/css/navbar.css">
    <link rel="stylesheet" href="static/css/toolbar.css">
    <link rel="stylesheet" href="static/css/sidebar.css">
    <link rel="stylesheet" href="static/css/modal.css">
    <link rel="stylesheet" href="static/css/inputs-config-modal.css">
    <link rel="stylesheet" href="static/css/welcome-window.css">
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            overflow: hidden;
            user-select: none;
        }

        .test {
            display: flex;
            flex-direction: row;
        }

        #svg-div {
            position: absolute;
            left: 202px;
            width: 100%;
            height: 100%;
            border-bottom: 2px solid black;
        }

        text {
            font-size: 4.5pt;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        #pw-div label {
            display: block;
            padding-top: 10px;
        }

        #simulating-text {
            color: rgb(50, 50, 50);
            align-self: center;
            padding-left: 1rem;
        }

        #alpha-version {
            color: rgb(179, 179, 15);
            float: right;
            margin: 6px 6px 0 0;
            padding-inline: 2px;
            font-size: 11pt;
            border: 1px solid rgb(179, 179, 15);
            border-radius: 3px;
        }
    </style>
</head>

<body>
    <div class="navbar">
        <div class="dropdown">
            <button class="dropbtn">File
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a id="new-file-button">New</a>
                <a id="load-file-button">Load</a>
                <a id="save-file-button">Save</a>
                <!-- <a id="save-as-button">Save as</a> -->
                <a id="close-file-button">Close</a>
            </div>
        </div>
        <!-- <a href="#news">View</a>
        <div class="dropdown">
            <button class="dropbtn">Simulation
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="#">Run</a>
                <a href="#">Step</a>
                <a href="#">Restart</a>
                <a id="sim-config-button">Configuration</a>
            </div>
        </div> -->
        <a id="inputs-button">Inputs</a>

        <span id="alpha-version" >Alpha Version</span>
    </div>

    <div id="tool-bar">
        <svg id="mouse-tool" xmlns="http://www.w3.org/2000/svg" class="tool-bar-item selected-tool-bar-item"
            viewBox="0 0 38 38">
            <path d="M4 0l16 12.279-6.951 1.17 4.325 8.817-3.596 1.734-4.35-8.879-5.428 4.702z" fill="white"
                stroke="black" transform="translate(7 7)" />
        </svg>
        <svg id="place-tool" class="tool-bar-item" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="28" fill="white" stroke="black" stroke-width="4" />
        </svg>
        <svg id="trans-tool" class="tool-bar-item" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <rect x="-27.5" y="-15" width="55" height="30" transform="translate(50 50)" fill="black" stroke="black" />
        </svg>

        <svg id="arc-tool" class="tool-bar-item" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <line x1="20" y1="20" x2="70" y2="70" stroke="black" stroke-width="4" />
            <polygon points="80,80 70,60 60,70" stroke="black" stroke-width="4" />
        </svg>

        <div class="tool-bar-separation"></div>

        <svg id="restart-button" xmlns="http://www.w3.org/2000/svg" class="tool-bar-item" viewBox="0 0 38 38">
            <g transform="translate(6 6)">
                <path
                    d="M20,12c0,4.411-3.589,8-8,8s-8-3.589-8-8c0-2.52,1.174-4.768,3-6.235V3.353C4.016,5.085,2,8.309,2,12c0,5.514,4.486,10,10,10s10-4.486,10-10S17.514,2,12,2v2C16.411,4,20,7.589,20,12z"
                    stroke="black" stroke-width="0.5" />
                <path d="M2 2L9 2 9 9z" stroke="black" stroke-width="0.5" />
            </g>

        </svg>

        <svg id="start-button" xmlns="http://www.w3.org/2000/svg" class="tool-bar-item" viewBox="0 0 26 26">
            <path d="M -6 -6 L 5 0 L -6 6, L -6 6" transform="translate(13 13)" />
        </svg>

        <svg id="step-button" xmlns="http://www.w3.org/2000/svg" class="tool-bar-item" viewBox="0 0 30 30">
            <g transform="translate(13 15)">
                <path d="M -6 -6 L 5 0 L -6 6, L -6 6" />
                <rect x="6" y="-6" width="4" height="12" />
            </g>
        </svg>

        <svg id="pause-button" class="tool-bar-item" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <rect x=25 y=25 width=20 height="50" />
            <rect x=55 y=25 width=20 height="50" />
        </svg>

        <svg id="stop-button" class="tool-bar-item" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <rect x=25 y=25 width=50 height="50" />
        </svg>

        <span id="simulating-text"></span>
    </div>

    <div id="inputs-modal" class="modal">
        <template id="input-row">
            <tr>
                <td><input type="checkbox"></td>
                <td><input type="text"></td>
                <td>
                    <select>
                        <option value="BOOL">BOOL</option>
                        <option value="INT">INT</option>
                    </select>
                </td>
                <td><input type="text" style="width: 40px;"></td>
                <td><input type="text"></td>
            </tr>
        </template>

        <div class="modal-content">
            <div class="modal-header">
                <h2>Inputs Configuration</h2>
                <span id="inputs-modal-close" class="modal-close">&times;</span>
            </div>
            <div class="modal-body">
                <div>
                    <div class="input-buttons">
                        <button id="new-input-button" class="btn btn-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48">
                                <path fill="white" d="M22.5 38V25.5H10V22.5H22.5V10H25.5V22.5H38V25.5H25.5V38Z"/>
                            </svg>
                            Add
                        </button>
                        <button id="remove-inputs-button" class="btn btn-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                                <path fill="white" d="M15 39H33Q33 39 33 39Q33 39 33 39V15H15V39Q15 39 15 39Q15 39 15 39ZM10.5 11V8H17.2L19.2 6H28.8L30.8 8H37.5V11ZM15 42Q13.8 42 12.9 41.1Q12 40.2 12 39V12H36V39Q36 40.2 35.1 41.1Q34.2 42 33 42ZM15 39H33Q33 39 33 39Q33 39 33 39H15Q15 39 15 39Q15 39 15 39Z"/>
                            </svg>
                            Remove
                        </button>
                    </div>
                    <table id="inputs-config-table">
                        <thead>
                            <tr>
                                <th style="width: 20px; padding: 3px;">
                                    <input type="checkbox">
                                </th>
                                <th style="width: 180px;">Name</th>
                                <th style="width: 60px;">Type</th>
                                <th style="width: 50px;">Initial Value</th>
                                <th style="width: 180px;">Description</th>
                            </tr>
                        </thead>
                        <tbody id="inputs-config">
                            
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <div>
                    <button id="inputs-config-save" class="btn btn-primary">Save</button>
                    <button id="inputs-config-cancel" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div id="sim-config-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="sim-config-close" class="modal-close">&times;</span>
                <h2>Simulation Configuration</h2>
            </div>
            <div class="modal-body">
                <h3>Simulation Mode</h3>
                <select name="sim-mode" id="sim-mode">
                    <option value="1" selected>Mode 1</option>
                    <option value="2">Mode 2</option>
                    <option value="3">Mode 3</option>
                </select>
                <p><b>Mode 1:</b>Fire only 1 transition by scan cicle <br>
                    <b>Mode 2:</b>Fire multiple transitions by scan cicle <br>
                    <b>Mode 3:</b>Fire multiple transitions by scan cicle, but only the transitions
                    that started the scan cicle enabled
                </p>

                <h3>Pre Script</h3>
                <p>This piece of code runs at each beagning of a scan cicle</p>
                <textarea name="pre-script" id="pre-script" cols="120" rows="10"
                    placeholder="Write your script here"></textarea>
            </div>
            <div class="modal-footer">
                <div style="float: right">
                    <button id="sim-config-save">Save</button>
                    <button id="sim-config-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div class="test">
        <div id="side-bar">
            <div id="property-window">
                <div id="pw-place" style="display: none;">
                    <label>Name</label>
                    <input id="pw-place-name" type="text">
                    <label>Type</label>
                    <select id="pw-place-placeType">
                        <option value="BOOL">BOOL</option>
                        <option value="INT">INT</option>
                    </select>
                    <label>Initial Mark</label>
                    <input id="pw-place-initialMark" type="text">
                </div>
                <div id="pw-trans" style="display: none;">
                    <label>Name</label>
                    <input id="pw-trans-name" type="text">
                    <label>Delay</label>
                    <input id="pw-trans-delay" type="text">
                    <label>Guard</label>
                    <input id="pw-trans-guard" type="text">
                </div>
                <div id="pw-arc" style="display: none;">
                    <label>Type</label>
                    <select id="pw-arc-arcType">
                        <option value="Input">Input</option>
                        <option value="Output">Output</option>
                        <option value="Test">Test arc</option>
                        <option value="Inhibitor">Inhibitor</option>
                    </select>
                    <label>Weight</label>
                    <input id="pw-arc-weight" type="text" value="1">
                </div>
            </div>

            <div id="inputs-window" style="display: none;">
                <table>
                    <thead>
                        <th style="width: 72%;">Input</th>
                        <th>Value</th>
                    </thead>
                    <tbody>
                        
                    </tbody>
                    
                </table>
            </div>
        </div>

        <svg xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="grid-pattern" width="10" height="10" patternUnits="userSpaceOnUse">
                    <rect x="0" y="0" width="10" height="10" stroke="#c0c0c0" fill="white" stroke-width="0.2"/>
                </pattern>
            </defs>
        </svg>

        <div id="welcome-window">
            <h1>Automation Petri Net</h1>
            <h5>A Petri Net editor, simulator and code generator for automation</h5>

            <h4>Start</h4>
            <a onclick="document.getElementById('new-file-button').click()">
                New File
            </a>
            <a onclick="document.getElementById('load-file-button').click()">
                Open File
            </a>

            <div id="fast-tutorial">
                <h4>Fast Tutorial</h4>
                <div>
                    <img src="static/icons/mouse/mouse-left-btn.svg"/> 
                    Select and drag element
                </div>
                <div>
                    <img src="static/icons/mouse/mouse-right-btn.svg"/> 
                    Pan
                </div>
                <div>
                    <img src="static/icons/mouse/mouse-weel.svg"/> 
                    Zoom
                </div>
                <div>
                    <kbd>Shift</kbd> 
                    <span>Toggle grid</span>
                </div>
                <div>
                    <kbd>Ctrl</kbd> + <kbd>z</kbd> 
                    <span>Undo</span>
                </div>
                <div>
                    <kbd>Ctrl</kbd> + <kbd>y</kbd> 
                    <span>Redo</span>
                </div>
                <div>
                    <kbd>Delete</kbd> 
                    <span>Delete the selected element</span>
                </div>
            </div>
        </div>

        <div id="svg-div" style="display: none;">

        </div>

    </div>

    <script type="module" src="static/js/main.js"></script>
</body>

</html>